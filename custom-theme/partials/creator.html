<style>
	.tab {
		overflow: hidden;
		border: 1px solid #ccc;
		background-color: #f1f1f1;
	}

	.tab button {
		background-color: inherit;
		float: left;
		border: none;
		outline: none;
		cursor: pointer;
		padding: 14px 16px;
		transition: 0.3s;
		font-size: 17px;
	}

	.tab button:hover{
		background-color: #ddd;
	}

	.tab button.active{
		background-color: #ccc;
	}

	.tabcontent{
		display: none;
		padding: 6px 12px;
		border: 1px solid #ccc;
		border-top: none;
	}
</style>

<div class="tab">
	<button class="tablinks" onclick="openTab(event, 'Personnage')" id="defaultOpen">Personnage</button>
	<button class="tablinks" onclick="openTab(event, 'races')">Race</button>
	<button class="tablinks" onclick="openTab(event, 'classes')" >Classe</button>
	<button class="tablinks" onclick="openTab(event, 'backgrounds')">Historique</button>
	<button class="tablinks" onclick="openTab(event, 'feats')">Dons</button>
	<button class="tablinks" onclick="openTab(event, 'spells')">Sorts</button>
	<button class="tablinks" onclick="openTab(event, 'equipments')">Ã‰quipements</button>
</div>

<div id="Personnage" class="tabcontent">
	This is a simple test :)
</div>

<div id="races" class="load tabcontent">

</div>

<div id="classes" class="load tabcontent">

</div>

<div id="feats" class="load tabcontent">

</div>

<div id="backgrounds" class="load tabcontent">

</div>

<div id="spells" class="load tabcontent">

</div>

<div id="equipments" class="load tabcontent">

</div>

<script type="text/javascript" src="loader.js"></script>

<script>
	document.querySelectorAll(".load").forEach(load => {
		loadJson(load.id, false, load.id);
	});
</script>

<script>
	var level = 1;
	var speed = {};
	var type = 0;
	var languages = [];
	var size = "";
	var chosen_race = "";
	var chosen_class = "";
	var suggested_improvements = "";
	var resistances = [];
	var FOR = 10;
	var DEX = 10;
	var CON = 10;
	var INT = 10;
	var WIS = 10;
	var CHA = 10;
	var feats = {};
	var spells = {"0":[], "1":[], "2":[], "3":[],"4":[],"5":[], "6":[],"7":[],"8":[],"9":[]};
	var features = [];

    function changeRaceHref(){
    	var races = document.querySelectorAll("#races > .base-block");
    	races.forEach(race => {
    		race.href = "creator?race="+race.href.substring(race.href.lastIndexOf("/"));
    	});
    }

    function addSpells(new_spells, level){
    	for (var i in new_spells){
    		for (var j in new_spells[i]){
    			spells[i].push([new_spells[i][j], level]);
    		}
    	}
    }

    function addSpeed(new_speed, level){
    	for (var speed_mode in new_speed){
    		if (!speed.speed_mode){
    			speed.speed_mode = 0;
    		}
    		speed.speed_mode = max(speed.speed_mode, new_spells.speed_mode);
    	}
    }

    function addResistances(new_resistances, level){
    	for (var i in new_resistances){
    		resistances.push([new_resistances[i], level]);
    	}
    }

</script>
